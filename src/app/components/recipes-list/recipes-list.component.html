<mat-form-field id="searchRecipe">
    <input matInput type="text" [(ngModel)]="searchValue" [ngModelOptions]="{standalone: true}"
           (input)="searchByName()" placeholder="Search recipe"/>
</mat-form-field>

<div *ngIf="searchValue.length !== 0">
  <mat-card class="recipe-component" *ngFor="let recipe of recipes" (click)="viewDetails(recipe)">

    <div>
      <div class="recipe-component__image-btn-wrapper">
        <img mat-card-image
             src={{recipe.payload.doc.data().imageSrc}}
             alt={{recipe.payload.doc.data().title}}>
      </div>

      <div class="recipe-component__info">
        <div class="recipe-component__info_title">
          <mat-card-title><h4>{{recipe.payload.doc.data().title}}</h4></mat-card-title>
          <h3>Coock duration: {{recipe.payload.doc.data().cookDuration}} min</h3>
          <mat-card-content class="recipe-component__info_title_recipe-content">
            <p>{{recipe.payload.doc.data().description}}</p>
          </mat-card-content>
        </div>
      </div>
    </div>

    <div class="recipe-component__buttons">
      <mat-card-actions>
        <button mat-button disabled>
          <mat-icon *ngIf="recipe.isFavorite; else isNotFavorite">favorite</mat-icon>
          <ng-template #isNotFavorite>
            <mat-icon>favorite_border</mat-icon>
          </ng-template>
        </button>
      </mat-card-actions>
      <mat-card-actions>
        <star-rating [starType]="'svg'"
                     labelText={{recipe.payload.doc.data().rating}}
                     labelPosition="right"
                     [rating]="recipe.payload.doc.data().rating"
                     [id]="recipe.payload.doc.data().id"
                     staticColor="default"
                     [showHalfStars]="true"
                     [disabled]="true">
        </star-rating>
      </mat-card-actions>
    </div>

  </mat-card>
</div>


<div *ngIf="searchValue.length === 0">
  <mat-card class="recipe-component" *ngFor="let recipe of recipes$ | async" (click)="viewDetails(recipe)">

    <div>
      <div class="recipe-component__image-btn-wrapper">
        <img mat-card-image
             src={{recipe.imageSrc}}
             alt={{recipe.title}}>
      </div>

      <div class="recipe-component__info">
        <div class="recipe-component__info_title">
          <mat-card-title><h4>{{recipe.title}}</h4></mat-card-title>
          <h3>Coock duration: {{recipe.cookDuration}} min</h3>
          <mat-card-content class="recipe-component__info_title_recipe-content">
            <p>{{recipe.description}}</p>
          </mat-card-content>
        </div>
      </div>
    </div>

    <div class="recipe-component__buttons">
      <mat-card-actions>
        <button mat-button disabled>
          <mat-icon *ngIf="recipe.isFavorite; else isNotFavorite">favorite</mat-icon>
          <ng-template #isNotFavorite>
            <mat-icon>favorite_border</mat-icon>
          </ng-template>
        </button>
      </mat-card-actions>
      <mat-card-actions>
        <star-rating [starType]="'svg'"
                     labelText={{recipe.rating}}
                     labelPosition="right"
                     [rating]="recipe.rating"
                     [id]="recipe.id"
                     staticColor="default"
                     [showHalfStars]="true"
                     [disabled]="true">
        </star-rating>
      </mat-card-actions>
    </div>

  </mat-card>
</div>
